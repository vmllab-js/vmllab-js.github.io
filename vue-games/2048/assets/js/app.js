(function(t){function e(e){for(var n,r,a=e[0],c=e[1],l=e[2],h=0,f=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"4ebf":function(t,e,i){"use strict";i("879b")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],r=(i("5c0b"),i("2877")),a={},c=Object(r["a"])(a,s,o,!1,null,null,null),l=c.exports,u=i("8c4f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v("2048")]),i("div",{staticClass:"scores"},[i("div",{staticClass:"score"},[t._v(" "+t._s(t.score)+" "),t._l(t.scoreAdditions,(function(e){return i("div",{staticClass:"score-addition"},[t._v("+"+t._s(e))])}))],2),i("div",{staticClass:"best"},[t._v(t._s(t.best))])]),i("div",{staticClass:"clear-both"}),i("div",{staticClass:"play-again",on:{click:t.playAgain}},[t._v("PLAY AGAIN")])]),i("The2048Game",{ref:"game",on:{addScore:t.addScore,gameOver:t.gameOver}})],1)},f=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trigle-crush-game",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,touchmove:t.onTouchMove,mousemove:t.onMouseMove}},[i("div",{staticClass:"grid"},[t._l(t.cells,(function(e,n){return[t._l(e,(function(t,e){return[i("div",{staticClass:"cell",attrs:{x:n,y:e}})]}))]}))],2),i("div",{staticClass:"tiles"},[t._l(t.tiles,(function(e){return[i("div",{key:e.id,staticClass:"tile",class:[e.status],attrs:{x:e.x,y:e.y,tile:e.num}},[t._v(" "+t._s(e.num)+" ")])]}))],2)])},m=[],_=(i("a434"),4),d=4,p={name:"The2048Game",props:{},data:function(){return{animating:!1,cells:[],tiles:[],lastTileId:0}},mounted:function(){window.addEventListener("keydown",this.onKeyDown),this.init()},destroyed:function(){window.removeEventListener("keydown",this.onKeyDown)},methods:{init:function(){for(var t=[],e=0;e<_;++e){t.push([]);for(var i=0;i<d;++i)t[e].push(0)}this.cells=t,this.tiles=[],this.generateTile(),this.generateTile()},playAgain:function(){this.init()},generateTile:function(){var t=this.__getEmptyCells();if(t.length){var e=t[Math.floor(Math.random()*t.length)],i=e.x,n=e.y,s={id:++this.lastTileId,x:i,y:n,num:2};this.tiles.push(s),this.cells[i][n]=s}},__getEmptyCells:function(){for(var t=[],e=0;e<_;++e)for(var i=0;i<d;++i)this.cells[e][i]||t.push({x:e,y:i});return t},addScore:function(t){this.$emit("addScore",t)},gameOver:function(){this.$emit("gameOver")},onTouchStart:function(t){if(!this.animating){var e=t.touches[0];this._touchStartTileX=e.clientX,this._touchStartTileY=e.clientY}},onTouchMove:function(t){if(!this.animating&&this._touchStartTileX){var e=t.touches[0];this.__checkMoveTiles(e)}},onMouseDown:function(t){this.animating||(this._touchStartTileX=t.clientX,this._touchStartTileY=t.clientY)},onMouseMove:function(t){this.animating||this._touchStartTileX&&this.__checkMoveTiles(t)},onKeyDown:function(t){switch(t.code){case"ArrowUp":this.__moveTiles("up");break;case"ArrowDown":this.__moveTiles("down");break;case"ArrowLeft":this.__moveTiles("left");break;case"ArrowRight":this.__moveTiles("right");break}},__checkMoveTiles:function(t){var e=t.clientX-this._touchStartTileX,i=t.clientY-this._touchStartTileY,n=30;Math.abs(e)>n&&Math.abs(i)<n/2?(e<0?this.__moveTiles("left"):this.__moveTiles("right"),this._touchStartTileX=0):Math.abs(e)<n/2&&Math.abs(i)>n?(i<0?this.__moveTiles("up"):this.__moveTiles("down"),this._touchStartTileX=0):Math.abs(e)>n/2&&Math.abs(i)>n/2&&(this._touchStartTileX=0)},__moveTiles:function(t){var e=this;if(!this.animating){var i,n=0,s=0,o=!1;switch(t){case"up":for(var r=0;r<_;++r){i=null,s=0;for(var a=s;a<d;++a){var c=this.cells[r][a];c&&(i&&i.num===c.num?(this.__concatTiles(c,i),i=null,o=!0):(a>s&&(this.__moveTile(c,r,s),o=!0),i=c,++s))}}break;case"down":for(var l=0;l<_;++l){i=null,s=d-1;for(var u=s;u>=0;--u){var h=this.cells[l][u];h&&(i&&i.num===h.num?(this.__concatTiles(h,i),i=null,o=!0):(u<s&&(this.__moveTile(h,l,s),o=!0),i=h,--s))}}break;case"left":for(var f=0;f<d;++f){i=null,n=0;for(var v=n;v<_;++v){var m=this.cells[v][f];m&&(i&&i.num===m.num?(this.__concatTiles(m,i),i=null,o=!0):(v>n&&(this.__moveTile(m,n,f),o=!0),i=m,++n))}}break;case"right":for(var p=0;p<d;++p){i=null,n=_-1;for(var T=n;T>=0;--T){var g=this.cells[T][p];g&&(i&&i.num===g.num?(this.__concatTiles(g,i),i=null,o=!0):(T<n&&(this.__moveTile(g,n,p),o=!0),i=g,--n))}}break}o&&(this.animating=!0,setTimeout((function(){e.animating=!1,e.generateTile(),e.__checkGameOver()&&setTimeout((function(){e.gameOver()}),200)}),200))}},__concatTiles:function(t,e){var i=this,n=t.x,s=t.y;t.x=e.x,t.y=e.y,t.removed=!0,this.cells[n][s]=0,setTimeout((function(){e.num*=2,i.addScore(e.num),i.tiles.splice(i.tiles.indexOf(t),1)}),200)},__moveTile:function(t,e,i){this.cells[t.x][t.y]=0,this.cells[e][i]=t,t.x=e,t.y=i},__removeTile:function(t,e,i){this.cells[e][i]=0,this.tiles.splice(this.tiles.indexOf(t),1)},__checkGameOver:function(){for(var t=0;t<_;++t)for(var e=0;e<d;++e){if(!this.cells[t][e])return!1;if(t>0&&this.cells[t-1][e]&&this.cells[t-1][e].num===this.cells[t][e].num)return!1;if(e>0&&this.cells[t][e-1]&&this.cells[t][e-1].num===this.cells[t][e].num)return!1}return!0}}},T=p,g=(i("4ebf"),Object(r["a"])(T,v,m,!1,null,"583e6e7f",null)),b=g.exports,y={name:"Home",components:{The2048Game:b},data:function(){return{score:0,best:0,scoreAdditions:[]}},methods:{addScore:function(t){var e=this;this.scoreAdditions.push(t),this.score+=t,this.score>this.best&&(this.best=this.score),setTimeout((function(){e.scoreAdditions.unshift()}),1e3)},gameOver:function(){alert("Game Over! Please play again!")},playAgain:function(){this.score=0,this.$refs.game.playAgain()}}},w=y,O=(i("f688"),Object(r["a"])(w,h,f,!1,null,"322a0af2",null)),S=O.exports;n["a"].use(u["a"]);var M=[{path:"/",name:"Home",component:S}],x=new u["a"]({routes:M}),k=x;i("499a");n["a"].config.productionTip=!1,new n["a"]({router:k,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"879b":function(t,e,i){},"9c0c":function(t,e,i){},e290:function(t,e,i){},f688:function(t,e,i){"use strict";i("e290")}});
//# sourceMappingURL=app.js.map